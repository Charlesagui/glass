/* IA DESLUMBRANTE - ESTILOS ULTRA OPTIMIZADOS */

/* Se usa el cursor estándar del sistema */
/* Performance-first CSS con animaciones GPU-accelerated */

@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;700&display=swap');

/* ========================================
   VARIABLES CSS OPTIMIZADAS
   ======================================== */

:root {
    /* Colores base */
    --color-base-dark: #050816;
    --color-accent1: #00f6ff;
    --color-accent2: #ff00e0;
    --color-accent3: #00ff88;
    --color-accent4: #ff4400;
    --color-text-primary: #e0e0e0;
    --color-text-secondary: #888ea0;

    /* Tipografía */
    --font-headings: 'Orbitron', sans-serif;
    --font-body: 'Roboto', sans-serif;

    /* Efectos optimizados */
    --glow-soft: 0 0 10px currentColor, 0 0 20px currentColor;
    --glow-intense: 0 0 15px currentColor, 0 0 30px currentColor, 0 0 45px currentColor;
    --blur-light: blur(5px);
    --blur-heavy: blur(15px);
    
    /* Transiciones */
    --transition-fast: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-smooth: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    
    /* Dimensiones */
    --border-radius: 20px;
    --border-radius-small: 10px;
    
    /* Variables dinámicas para scroll */
    --scroll-percent: 0;
}

/* ========================================
   RESET Y BASE OPTIMIZADO
   ======================================== */

*, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

/* ========================================
   UTILITY CLASSES
   ======================================== */

.gpu-accelerated {
    transform: translateZ(0);
    will-change: transform, opacity; /* Common properties to animate */
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden; /* Safari */
}

html {
    scroll-behavior: auto; /* CAMBIO: Deshabilitar smooth que puede causar saltos */
    overflow-x: hidden;
    overflow-y: auto;
    height: 100%;
    width: 100%;
    max-width: 100vw;
    
    /* Sin scroll padding que pueda causar saltos */
    scroll-padding-top: 0;
}

/* Ocultar scrollbar de forma efectiva y global */
/* Para WebKit (Chrome, Safari, Opera) */
*::-webkit-scrollbar {
    width: 0 !important;
    display: none !important;
}

/* Para IE, Edge y Firefox (y otros navegadores que lo soporten) */
* {
    -ms-overflow-style: none !important;  /* IE y Edge */
    scrollbar-width: none !important;     /* Firefox */
}

body {
    font-family: var(--font-body);
    background: 
        radial-gradient(ellipse at center, #1a0933 0%, var(--color-base-dark) 70%),
        radial-gradient(circle at 20% 80%, rgba(0, 246, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(255, 0, 224, 0.1) 0%, transparent 50%);
    background-attachment: fixed;
    color: var(--color-text-primary);
    line-height: 1.6;
    height: 100%;
    margin: 0;
    padding: 0;
    
    /* SCROLL NATIVO SIMPLE - Sin comportamientos que causen saltos */
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: auto;
    
    /* Performance optimizations */
    will-change: auto; /* Cambiar de transform a auto */
    transform: translateZ(0);
}

/* Cursor personalizado solo en desktop */
/* The default cursor will remain visible until the JS-powered custom cursor is initialized.
   Once the custom cursor is ready, script.js sets `document.body.style.cursor = 'none'`.
   This avoids cases where the JS fails and the cursor would otherwise disappear. */
@media (min-width: 769px) and (pointer: fine) {
    /* body { cursor: none; } */
}

/* ========================================
   LAYOUT PRINCIPAL OPTIMIZADO - SIN SEPARACIONES
   ======================================== */

/* Eliminar completamente cualquier separación */
main {
    margin: 0;
    padding: 0;
    background: none;
    border: none;
}

/* Contenedor principal optimizado para scroll */
html, body {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: auto; /* Permitir el comportamiento normal de desplazamiento */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
}

/* Secciones con layout estable para evitar saltos */
section {
    position: relative;
    min-height: 90vh;
    min-height: 90dvh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 4rem 2rem 6rem 2rem;
    transform-style: preserve-3d;
    will-change: auto; /* Sin will-change que cause problemas */
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    text-align: center;
    
    /* FONDO COMPLETAMENTE REMOVIDO */
    background: none;
    border: none;
    backdrop-filter: none;
    margin: 0;
    
    /* Layout estable - Sin cambios que causen saltos */
    contain: layout; /* Contener cambios de layout */
    
    /* Performance optimizado */
    transform: translateZ(0);
}

/* Secciones específicas con alturas diferentes para ritmo visual */
#about {
    min-height: 85vh; /* Aumentado para contenido denso */
    min-height: 85dvh;
    padding: 4rem 2rem 5rem 2rem; /* Más espacio para múltiples párrafos */
}

#contact {
    min-height: 50vh; /* Sección más compacta */
    min-height: 50dvh;
    padding: 2rem 2rem 3rem 2rem;
}

#closing {
    min-height: 80vh; /* Intermedio */
    min-height: 80dvh;
    padding: 3rem 2rem 4rem 2rem;
}

/* Efecto hover removido para fondo infinito */
@media (hover: hover) {
    header:hover, section:hover {
        transform: translateZ(0) scale(1.002); /* Efecto muy sutil */
    }
}

footer {
    min-height: auto;
    padding: 3rem 2rem; /* Más padding para mejor proporción */
    background: rgba(0, 0, 0, 0.15);
    border: 1px solid rgba(0, 246, 255, 0.1);
    border-radius: var(--border-radius);
    backdrop-filter: blur(10px);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    text-align: center;
    margin: 3rem auto 2rem auto; /* Más separación superior */
    max-width: calc(100% - 4rem);
    position: relative;
    
    /* Performance */
    transform: translateZ(0);
}

footer p {
    margin-left: auto;
    margin-right: auto;
    /* max-width (600px) y padding (1.5rem) se heredan de los estilos generales de 'p' */
    /* El texto dentro de 'p' ya está centrado debido a text-align: center en 'footer' */
}

/* ========================================
   TIPOGRAFÍA OPTIMIZADA
   ======================================== */

h1, h2, h3 {
    font-family: var(--font-headings);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: 0.5rem;
    
    /* GRADIENTE ANIMADO SUAVE - No interfiere con scroll */
    background: linear-gradient(45deg, var(--color-accent1), var(--color-accent2), var(--color-accent3));
    background-size: 300% 300%; /* Más amplio para efecto más suave */
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    
    /* Padding mínimo */
    padding: 0.2rem 0;
    
    /* Animación MUY lenta para no interferir con scroll */
    animation: gradientFlow 8s ease-in-out infinite;
    
    /* Performance optimizado */
    will-change: background-position;
    transform: translateZ(0);
}

/* ELIMINAR COMPLETAMENTE el fondo flotante de títulos */

@keyframes gradientFlow {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}

h1 {
    font-size: clamp(2rem, 8vw, 4rem);
    font-weight: 900;
    line-height: 1.1;
    word-wrap: break-word;
    overflow-wrap: break-word;
    max-width: 100%;
    padding: 0 1rem;
}

h2 {
    font-size: clamp(2rem, 6vw, 3rem);
    font-weight: 700;
    line-height: 1.2;
}

p {
    font-size: clamp(1rem, 2.5vw, 1.3rem);
    line-height: 1.6; /* Reducido de 1.8 a 1.6 */
    max-width: 600px;
    color: var(--color-text-primary);
    
    /* Contenido flotante MÁS COMPACTO */
    padding: 1.5rem; /* Reducido de 2rem a 1.5rem */
    margin-bottom: 1rem; /* Reducir espacio entre párrafos */
    border-radius: var(--border-radius);
    background: rgba(0, 0, 0, 0.15);
    border: 1px solid rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    
    /* Transición más rápida */
    transition: var(--transition-fast);
    
    /* Performance */
    will-change: transform, background;
    transform: translateZ(0);
}

@media (hover: hover) {
    p:hover {
        transform: translateZ(0) scale(1.02);
        background: rgba(0, 0, 0, 0.25); /* Reducido de 0.4 a 0.25 */
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3), var(--glow-soft);
        border-color: rgba(255, 255, 255, 0.1); /* Reducido de 0.2 a 0.1 */
    }
}

/* ========================================
   HERO SECTION - ULTRA OPTIMIZADO
   ======================================== */

/* Hero mantiene altura completa */
#hero {
    position: relative;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 1rem 2rem;
    min-height: 100vh; /* Altura completa para impacto */
    min-height: 100dvh;
    color: var(--color-text-primary);
    will-change: auto;
    transform: translateZ(0);
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    perspective: 1000px;
    transform-style: preserve-3d;
    
    /* Performance optimizations */
    contain: content;
    content-visibility: auto;
    
    /* SIN FONDO */
    background: none;
}

/* Optimize for reduced motion */
@media (prefers-reduced-motion: reduce) {
    #hero {
        transition: none;
        animation: none;
    }
}

/* ========================================
   DYNAMIC NEURAL NETWORK ANIMATION
   ======================================== */

.neural-network-animation {
    position: relative; /* For positioning SVG absolutely if needed */
    width: 100%;
    max-width: 500px; /* Or adjust as needed */
    height: clamp(280px, 45vw, 380px); /* Increased height for better spacing */
    margin: 2rem auto; /* Center it and provide some spacing */
    border: 1px dashed var(--color-accent2-transparent); /* Optional: for visualizing bounds during dev */
    display: flex;
    align-items: center;
    justify-content: center;
}

.neural-network-animation svg {
    width: 100%;
    height: 100%;
    overflow: visible; /* Important if nodes/effects go slightly outside bounds */
}

/* Dynamic Nodes */
.nn-node-dynamic {
    fill: var(--color-accent1-transparent-heavy);
    stroke: var(--color-accent1);
    stroke-width: 2px;
    transition: fill 0.1s ease, r 0.1s ease; /* Faster transitions for rapid firing */
    r: 5px; /* Reduced default radius to match JS changes */
}

.nn-node-dynamic.active { /* When a signal passes */
    fill: var(--color-accent2);
    stroke: #FFFFFF;
    r: 7px; /* Adjusted to match smaller base radius */
    filter: drop-shadow(0 0 8px var(--color-accent2));
}

/* Dynamic Threads (Connections) */
.nn-thread {
    fill: none;
    stroke: var(--color-accent2-transparent-light);
    stroke-width: 1px; /* Thinner lines for cleaner look with rapid firing */
    stroke-linecap: round;
    stroke-linejoin: round; /* Better curve rendering */
    opacity: 0.6;
    vector-effect: non-scaling-stroke; /* Consistent stroke width */
}

.nn-thread.firing { /* When a signal is actively passing */
    stroke: #FFFFFF; /* White for firing threads */
    stroke-width: 2px; /* Thicker when firing */
    opacity: 1;
    filter: drop-shadow(0 0 4px #FFFFFF);
    /* stroke-dasharray and stroke-dashoffset will be animated by JS */
}


/* ========================================
   ABOUT US SECTION STYLES (Contenido Flotante)
   ======================================== */

#about .about-content {
    background: none;
    padding: 0;
    border: none;
    max-width: 700px;
    margin: 0 auto;
}

#about .about-content p {
    /* Heredar estilos de contenido flotante del p general MÁS TRANSPARENTE */
    margin-bottom: 1.5rem;
    background: rgba(0, 0, 0, 0.15); /* Reducido de 0.3 a 0.15 */
    border: 1px solid rgba(255, 255, 255, 0.05); /* Reducido de 0.1 a 0.05 */
    backdrop-filter: blur(10px);
    padding: 2rem;
    color: var(--color-text-primary);
    font-size: clamp(1rem, 2.3vw, 1.15rem);
    line-height: 1.7;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2); /* Reducido de 0.3 a 0.2 */
    transition: var(--transition-smooth);
}

#about .about-content p:last-child {
    margin-bottom: 0;
}

@media (hover: hover) {
    #about .about-content p:hover {
        transform: translateZ(0) scale(1.02);
        background: rgba(0, 0, 0, 0.25); /* Reducido de 0.4 a 0.25 */
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3), var(--glow-soft);
        border-color: rgba(255, 255, 255, 0.1); /* Reducido de 0.2 a 0.1 */
    }
}

/* ========================================
   CONTACT SECTION STYLES
   ======================================== */

#contact .contact-details {
    margin-top: 2rem;
    padding: 1.5rem;
    background: rgba(255, 255, 255, 0.03);
    border-radius: var(--border-radius-small);
    border: 1px solid rgba(255, 255, 255, 0.08);
    text-align: left; /* Align text to the left within the contact box */
    max-width: 600px; /* Consistent with other p tags */
    width: 100%;
}

#contact .contact-details p {
    margin-bottom: 1rem;
    font-size: clamp(1rem, 2.2vw, 1.1rem); /* Slightly smaller than main paragraphs */
    color: var(--color-text-secondary);
    background: none; /* Override general p background */
    border: none; /* Override general p border */
    padding: 0; /* Override general p padding */
    backdrop-filter: none; /* Override general p backdrop */
}

#contact .contact-details p:last-child {
    margin-bottom: 0;
}

#contact .contact-details .icon-placeholder {
    color: var(--color-accent1);
    margin-right: 0.75em;
    display: inline-block; /* Ensures proper alignment and spacing */
}

#contact .contact-details a {
    color: var(--color-text-primary);
    text-decoration: none;
    transition: color var(--transition-fast);
}

#contact .contact-details a:hover,
#contact .contact-details a:focus {
    color: var(--color-accent2);
    text-decoration: underline;
}


/* ========================================
   ENHANCED FOOTER STYLES
   ======================================== */

footer .footer-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem; /* Spacing between footer elements */
}

footer .social-media {
    display: flex;
    gap: 1.5rem; /* Spacing between social icons */
}

footer .social-icon {
    color: var(--color-text-secondary);
    font-size: 1.2rem; /* Placeholder size, adjust if using actual icons */
    text-decoration: none;
    transition: color var(--transition-fast), transform var(--transition-fast);
}

footer .social-icon:hover,
footer .social-icon:focus {
    color: var(--color-accent1);
    transform: scale(1.1);
}

footer .footer-nav {
    display: flex;
    flex-wrap: wrap; /* Allow links to wrap on smaller screens */
    justify-content: center;
    gap: 1rem 2rem; /* Row and column gap */
}

footer .footer-nav a {
    color: var(--color-text-secondary);
    text-decoration: none;
    transition: color var(--transition-fast);
}

footer .footer-nav a:hover,
footer .footer-nav a:focus {
    color: var(--color-accent3);
    text-decoration: underline;
}

footer .copyright {
    font-size: 0.9rem;
    color: var(--color-text-secondary);
    margin-top: 1rem; /* Add some space above copyright */
    background: none; /* Override general p background */
    border: none; /* Override general p border */
    padding: 0; /* Override general p padding */
    backdrop-filter: none; /* Override general p backdrop */
    max-width: none; /* Allow it to take full width if needed */
}

/* Ensure footer itself has floating content styling */
footer {
    /* The updated footer rule now provides floating content styling */
    /* Consistent with the new vision of floating content over infinite background */
}

/* ========================================
   HERO ORBE - ULTRA OPTIMIZADO
   ======================================== */

.hero-orb-container {
    margin-bottom: 1.5rem; /* Reducido de 3rem a 1.5rem */
    perspective: 1000px;
}

.hero-orb {
    width: clamp(120px, 25vw, 200px);
    height: clamp(120px, 25vw, 200px);
    
    /* Gradiente cónico ESTÁTICO durante scroll */
    background: conic-gradient(
        from 0deg,
        var(--color-accent1),
        var(--color-accent2),
        var(--color-accent3),
        var(--color-accent4),
        var(--color-accent1)
    );
    
    border-radius: 50%;
    border: 3px solid rgba(255, 255, 255, 0.2);
    box-shadow: var(--glow-intense);
    
    /* Performance optimizado */
    transform-style: preserve-3d;
    will-change: auto; /* Cambiar de transform a auto */
    
    /* Posición relativa para pseudo-elementos */
    position: relative;
}

/* Animaciones solo en hover para evitar interferencia con scroll */
@media (hover: hover) {
    .hero-orb:hover {
        animation: orbRotate 4s linear infinite;
    }
    
    .hero-orb:hover::before {
        animation: orbHalo 6s linear infinite;
    }
    
    .hero-orb:hover::after {
        animation: orbCore 3s ease-in-out infinite;
    }
}

@keyframes orbRotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Efecto de halo - Animación MUY suave */
.hero-orb::before {
    content: '';
    position: absolute;
    top: -10px;
    left: -10px;
    right: -10px;
    bottom: -10px;
    
    background: conic-gradient(
        from 0deg,
        transparent,
        rgba(0, 246, 255, 0.3), /* Más sutil */
        transparent,
        rgba(255, 0, 224, 0.3), /* Más sutil */
        transparent
    );
    
    border-radius: 50%;
    z-index: -1;
    
    /* Animación MUY lenta para no interferir con scroll */
    animation: orbHalo 8s linear infinite;
    
    /* Performance */
    will-change: transform;
    transform: translateZ(0);
}

/* Núcleo interno del orbe - Animación MUY suave */
.hero-orb::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 60%;
    height: 60%;
    
    background: radial-gradient(
        circle,
        rgba(255, 255, 255, 0.6) 0%, /* Más sutil */
        rgba(255, 255, 255, 0.3) 40%, /* Más sutil */
        transparent 70%
    );
    
    border-radius: 50%;
    transform: translate(-50%, -50%);
    
    /* Animación MUY lenta */
    animation: orbCore 4s ease-in-out infinite;
    
    /* Performance */
    will-change: transform, opacity;
    transform-origin: center center;
}

@keyframes orbHalo {
    0% { 
        transform: rotate(0deg) scale(1); 
        opacity: 0.6; 
    }
    50% { 
        transform: rotate(180deg) scale(1.05); 
        opacity: 1; 
    }
    100% { 
        transform: rotate(360deg) scale(1); 
        opacity: 0.6; 
    }
}

@keyframes orbCore {
    0%, 100% { 
        opacity: 0.6; 
        transform: translate(-50%, -50%) scale(1); 
    }
    50% { 
        opacity: 1; 
        transform: translate(-50%, -50%) scale(1.1); 
    }
}

/* ========================================
   RED NEURONAL - OPTIMIZADA
   ======================================== */

.neural-network-animation {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: clamp(20px, 6vw, 40px); /* Reducido el gap */
    margin-bottom: 1rem; /* Reducido de 2rem a 1rem */
    padding: 1rem; /* Reducido de 2rem a 1rem */
    min-height: 150px; /* Reducido de 200px a 150px */
    
    /* SIN FONDO - Solo contenido */
    background: none;
    border: none;
    backdrop-filter: none;
    
    position: relative;
    overflow: visible;
    
    /* Performance */
    will-change: transform;
    transform: translateZ(0);
}

/* Efecto de escaneo - Solo para las animaciones internas */
.neural-network-animation::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    
    background: linear-gradient(
        90deg,
        transparent,
        rgba(0, 246, 255, 0.1), /* Más sutil */
        transparent
    );
    
    /* Animación suave que no interfiera con scroll */
    animation: neuralScan 6s ease-in-out infinite;
    
    /* Performance */
    will-change: transform;
    transform: translateZ(0);
}

@keyframes neuralScan {
    0% { 
        left: -100%; 
        opacity: 0; 
    }
    50% { 
        opacity: 1; 
    }
    100% { 
        left: 100%; 
        opacity: 0; 
    }
}

.nn-layer {
    display: flex;
    flex-direction: column;
    gap: clamp(20px, 5vw, 35px);
    z-index: 2;
}

.nn-node {
    width: clamp(25px, 6vw, 40px);
    height: clamp(25px, 6vw, 40px);
    
    background: radial-gradient(
        circle,
        var(--color-accent1) 0%,
        var(--color-accent2) 70%,
        transparent 100%
    );
    
    border-radius: 50%;
    border: 2px solid rgba(255, 255, 255, 0.3);
    box-shadow: var(--glow-intense);
    
    position: relative;
    
    /* Performance critical - uses .gpu-accelerated class from HTML */
    /* transform: translateZ(0); is covered by .gpu-accelerated */
    will-change: filter; /* 'transform' part covered by .gpu-accelerated */
    transform-style: preserve-3d;
}

/* Efecto de pulso en los nodos - Suave para no interferir con scroll */
.nn-node::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 200%;
    height: 200%;
    
    background: radial-gradient(
        circle,
        transparent 40%,
        rgba(0, 246, 255, 0.2) 45%, /* Más sutil */
        transparent 50%
    );
    
    border-radius: 50%;
    transform: translate(-50%, -50%);
    z-index: -1;
    
    /* Animación suave */
    animation: nodePulse 3s ease-in-out infinite;
    
    /* Performance */
    will-change: transform, opacity;
}

@keyframes nodePulse {
    0%, 100% { 
        opacity: 0.3; 
        transform: translate(-50%, -50%) scale(1); 
    }
    50% { 
        opacity: 0.8; 
        transform: translate(-50%, -50%) scale(1.2); 
    }
}

/* Conexiones entre nodos */
.nn-connections::before {
    content: '';
    position: absolute;
    width: clamp(30px, 8vw, 50px);
    height: 2px;
    
    background: linear-gradient(
        90deg,
        var(--color-accent1),
        var(--color-accent2)
    );
    
    top: 50%;
    left: 0;
    transform: translateY(-50%);
    
    box-shadow: 0 0 10px currentColor;
    border-radius: 1px;
    
    /* Animación de conexión */
    animation: connectionFlow 3s ease-in-out infinite;
    
    /* Performance */
    will-change: transform, opacity;
}

@keyframes connectionFlow {
    0%, 100% { 
        opacity: 0.5; 
        transform: translateY(-50%) scaleX(1); 
    }
    50% { 
        opacity: 1; 
        transform: translateY(-50%) scaleX(1.1); 
    }
}

/* ========================================
   FLUJO DE DATOS - OPTIMIZADO
   ======================================== */

.data-flow-animation {
    position: relative;
    width: 95%;
    max-width: 800px; /* Aumentado para mayor espacio */
    height: clamp(400px, 50vw, 600px); /* Aumentado significativamente */
    margin: 2rem auto; /* Centrado con más espacio */
    
    /* SIN FONDO - Solo contenido */
    background: none;
    border: none;
    backdrop-filter: none;
    
    overflow: visible;
    
    /* Performance */
    will-change: transform;
    transform: translateZ(0);
}

/* SVG styling for data flow */
.data-flow-svg {
    width: 100%;
    height: 100%;
    overflow: visible;
}

/* Data channels (pipes) */
.data-channel {
    filter: drop-shadow(0 0 6px currentColor);
    stroke-linecap: round;
    stroke-linejoin: round;
    opacity: 0.8;
    transition: all 0.3s ease;
}

.data-channel:hover {
    opacity: 1;
    filter: drop-shadow(0 0 12px currentColor);
}

/* Enhanced channel types */
.data-channel-primary {
    animation: primaryPulse 3s ease-in-out infinite;
}

.data-channel-secondary {
    animation: secondaryPulse 4s ease-in-out infinite;
}

.data-channel-tertiary {
    animation: tertiaryPulse 5s ease-in-out infinite;
}

.data-channel-control {
    animation: controlPulse 2.5s ease-in-out infinite;
}

@keyframes primaryPulse {
    0%, 100% { filter: drop-shadow(0 0 6px #00f6ff) drop-shadow(0 0 12px #00f6ff88); }
    50% { filter: drop-shadow(0 0 16px #00f6ff) drop-shadow(0 0 24px #00f6ff88); }
}

@keyframes secondaryPulse {
    0%, 100% { filter: drop-shadow(0 0 6px #ff00e0) drop-shadow(0 0 12px #ff00e088); }
    50% { filter: drop-shadow(0 0 16px #ff00e0) drop-shadow(0 0 24px #ff00e088); }
}

@keyframes tertiaryPulse {
    0%, 100% { filter: drop-shadow(0 0 6px #00ff88) drop-shadow(0 0 12px #00ff8888); }
    50% { filter: drop-shadow(0 0 16px #00ff88) drop-shadow(0 0 24px #00ff8888); }
}

@keyframes controlPulse {
    0%, 100% { filter: drop-shadow(0 0 6px #ffaa00) drop-shadow(0 0 12px #ffaa0088); }
    50% { filter: drop-shadow(0 0 16px #ffaa00) drop-shadow(0 0 24px #ffaa0088); }
}

/* Data packets with protocol-specific styling */
.data-packet-tcp {
    filter: drop-shadow(0 0 6px #00f6ff);
}

.data-packet-udp {
    filter: drop-shadow(0 0 5px #ff00e0);
}

.data-packet-icmp {
    filter: drop-shadow(0 0 4px #00ff88);
}

.data-packet-http {
    filter: drop-shadow(0 0 8px #ffaa00);
}

/* Partículas de flujo adicionales - MEJORADAS */
.flow-particle {
    position: absolute;
    width: 8px; /* Aumentado */
    height: 8px; /* Aumentado */
    background: radial-gradient(circle, #00f6ff 0%, transparent 70%);
    border-radius: 50%;
    opacity: 0;
    pointer-events: none;
    will-change: transform, opacity;
    filter: drop-shadow(0 0 8px #00f6ff);
}

.flow-particle:nth-child(1) {
    animation: flowParticle1 6s infinite linear; /* Más rápido */
    animation-delay: 0s;
}

.flow-particle:nth-child(2) {
    animation: flowParticle2 8s infinite linear; /* Más rápido */
    animation-delay: 2s;
    background: radial-gradient(circle, #ff00e0 0%, transparent 70%);
}

.flow-particle:nth-child(3) {
    animation: flowParticle3 10s infinite linear;
    animation-delay: 4s;
    background: radial-gradient(circle, #00ff88 0%, transparent 70%);
}

@keyframes flowParticle1 {
    0%, 100% { 
        transform: translate(10%, 30%) scale(0); 
        opacity: 0; 
    }
    10%, 90% { 
        transform: translate(20%, 25%) scale(1); 
        opacity: 0.8; 
    }
    50% { 
        transform: translate(80%, 70%) scale(1.2); 
        opacity: 1; 
    }
}

@keyframes flowParticle2 {
    0%, 100% { 
        transform: translate(5%, 60%) scale(0); 
        opacity: 0; 
    }
    15%, 85% { 
        transform: translate(15%, 55%) scale(1); 
        opacity: 0.7; 
    }
    50% { 
        transform: translate(85%, 40%) scale(1.1); 
        opacity: 0.9; 
    }
}

@keyframes flowParticle3 {
    0%, 100% { 
        transform: translate(15%, 80%) scale(0); 
        opacity: 0; 
    }
    20%, 80% { 
        transform: translate(25%, 75%) scale(1); 
        opacity: 0.6; 
    }
    50% { 
        transform: translate(75%, 20%) scale(1.3); 
        opacity: 0.8; 
    }
}

/* Network nodes with enhanced styling */
.network-node-router {
    filter: drop-shadow(0 0 10px #ff6b6b);
}

.network-node-switch {
    filter: drop-shadow(0 0 8px #4ecdc4);
}

.network-node-firewall {
    filter: drop-shadow(0 0 12px #ff9f43);
}

.network-node-server {
    filter: drop-shadow(0 0 10px #0abde3);
}

.network-node-loadbalancer {
    filter: drop-shadow(0 0 9px #ee5a24);
}

/* Bandwidth monitors */
.bandwidth-monitors {
    opacity: 0.9;
    background: rgba(0, 0, 0, 0.1);
}

/* Network grid animation */
.network-grid {
    animation: gridScan 8s linear infinite;
}

@keyframes gridScan {
    0% { opacity: 0.1; }
    50% { opacity: 0.4; }
    100% { opacity: 0.1; }
}

/* Status indicators */
.status-indicator {
    animation: statusBlink 2s ease-in-out infinite;
}

@keyframes statusBlink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

/* Data packets */
.data-packet {
    filter: drop-shadow(0 0 6px currentColor);
}

/* Data nodes */
.data-node-input {
    filter: drop-shadow(0 0 8px #00f6ff);
}

.data-node-processor {
    filter: drop-shadow(0 0 8px #ff00e0);
}

.data-node-output {
    filter: drop-shadow(0 0 8px #00ff88);
}

.data-node-storage {
    filter: drop-shadow(0 0 8px #ffffff);
}

/* ========================================
   CIERRE - AGUJERO NEGRO ULTRA OSCURO
   ======================================== */

.closing-animation-container {
    position: relative;
    width: clamp(200px, 35vw, 300px); /* Reducido tamaño */
    height: clamp(200px, 35vw, 300px);
    margin: 1rem auto; /* Reducido de 2rem a 1rem */
    
    /* Contenedor con efecto de agujero negro más visible */
    background: radial-gradient(
        circle,
        rgba(0, 0, 0, 1) 0%,
        rgba(20, 20, 20, 0.9) 25%,
        rgba(40, 40, 40, 0.7) 50%,
        rgba(60, 60, 60, 0.4) 75%,
        transparent 100%
    );
    
    border-radius: 50%;
    border: 2px solid rgba(60, 60, 60, 0.4);
    backdrop-filter: var(--blur-light);
    
    /* Efecto de distorsión gravitacional más visible */
    box-shadow: 
        0 0 80px rgba(20, 20, 20, 0.8),
        inset 0 0 80px rgba(0, 0, 0, 0.9),
        0 0 120px rgba(40, 40, 40, 0.3);
    
    /* Performance */
    will-change: transform, filter;
    transform: translateZ(0);
    transform-style: preserve-3d;
    perspective: 1000px;
    
    /* Animación de pulso gravitacional más dramático */
    animation: dramaticGravitationalPulse 6s ease-in-out infinite;
}

@keyframes dramaticGravitationalPulse {
    0%, 100% { 
        transform: translateZ(0) scale(1) rotate(0deg);
        filter: brightness(0.8) contrast(1.3) hue-rotate(0deg);
        box-shadow: 
            0 0 80px rgba(20, 20, 20, 0.8),
            inset 0 0 80px rgba(0, 0, 0, 0.9),
            0 0 120px rgba(40, 40, 40, 0.3);
    }
    25% {
        transform: translateZ(0) scale(1.01) rotate(1deg);
        filter: brightness(0.7) contrast(1.5) hue-rotate(5deg);
    }
    50% { 
        transform: translateZ(0) scale(1.03) rotate(0deg);
        filter: brightness(0.6) contrast(1.8) hue-rotate(10deg);
        box-shadow: 
            0 0 100px rgba(30, 30, 30, 0.9),
            inset 0 0 100px rgba(0, 0, 0, 1),
            0 0 140px rgba(50, 50, 50, 0.4);
    }
    75% {
        transform: translateZ(0) scale(1.01) rotate(-1deg);
        filter: brightness(0.7) contrast(1.5) hue-rotate(5deg);
    }
}

/* Eliminar el disco de acreción exterior para evitar el segundo círculo */
.closing-animation-container::before {
    content: '';
    position: absolute;
    top: -10px;
    left: -10px;
    right: -10px;
    bottom: -10px;
    
    /* Gradiente más dinámico para distorsión espacial */
    background: conic-gradient(
        from 0deg,
        transparent 0deg,
        rgba(20, 20, 20, 0.1) 30deg,
        transparent 60deg,
        rgba(15, 15, 15, 0.15) 90deg,
        transparent 120deg,
        rgba(25, 25, 25, 0.1) 150deg,
        transparent 180deg,
        rgba(10, 10, 10, 0.2) 210deg,
        transparent 240deg,
        rgba(20, 20, 20, 0.1) 270deg,
        transparent 300deg,
        rgba(15, 15, 15, 0.12) 330deg,
        transparent 360deg
    );
    
    border-radius: 50%;
    z-index: -1;
    
    /* Rotación más dinámica */
    animation: dynamicDistortion 15s linear infinite;
    
    /* Performance */
    will-change: transform, opacity;
    transform: translateZ(0);
}

/* Singularidad central más dinámica y oscura */
.closing-animation-container::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 18%;
    height: 18%;
    
    background: radial-gradient(
        circle,
        rgba(0, 0, 0, 1) 0%,
        rgba(5, 5, 5, 0.95) 30%,
        rgba(15, 15, 15, 0.7) 60%,
        rgba(25, 25, 25, 0.3) 80%,
        transparent 100%
    );
    
    border-radius: 50%;
    transform: translate(-50%, -50%);
    
    /* Distorsión más dramática de la singularidad */
    animation: dramaticSingularity 3s ease-in-out infinite alternate;
    
    /* Performance */
    will-change: transform, opacity, filter;
    transform-origin: center center;
    z-index: 2;
}

@keyframes dynamicDistortion {
    0% { 
        transform: rotate(0deg) scale(1); 
        opacity: 0.15; 
    }
    25% { 
        opacity: 0.25;
        transform: rotate(90deg) scale(1.02); 
    }
    50% { 
        transform: rotate(180deg) scale(1.05); 
        opacity: 0.3; 
    }
    75% {
        opacity: 0.2;
        transform: rotate(270deg) scale(1.02);
    }
    100% { 
        transform: rotate(360deg) scale(1); 
        opacity: 0.15; 
    }
}

@keyframes dramaticSingularity {
    0% { 
        opacity: 0.9; 
        transform: translate(-50%, -50%) scale(0.9) rotate(0deg); 
        filter: blur(0px) brightness(0.8);
    }
    50% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1.1) rotate(180deg);
        filter: blur(0.3px) brightness(0.6);
    }
    100% { 
        opacity: 1; 
        transform: translate(-50%, -50%) scale(1.15) rotate(360deg); 
        filter: blur(0.8px) brightness(0.4);
    }
}



/* ========================================
   EFECTOS DE HOVER OPTIMIZADOS
   ======================================== */

@media (hover: hover) {
    .neural-network-animation:hover {
        transform: translateZ(0) scale(1.02);
        border-color: var(--color-accent1);
        box-shadow: var(--glow-soft);
    }
    
    .data-flow-animation:hover {
        transform: translateZ(0) scale(1.01);
        border-color: var(--color-accent2);
        box-shadow: var(--glow-soft);
    }
    
    .closing-animation-container:hover {
        transform: translateZ(0) scale(1.08) rotate(2deg);
        filter: brightness(0.15) contrast(4) saturate(1.2);
        box-shadow: 
            0 0 120px rgba(0, 0, 0, 1),
            inset 0 0 120px rgba(0, 0, 0, 1),
            0 0 200px rgba(0, 0, 0, 0.9),
            0 0 300px rgba(5, 5, 5, 0.3);
        animation-duration: 3s; /* Acelera la animación en hover */
    }
    
    .nn-node:hover {
        transform: translateZ(0) scale(1.2);
        filter: brightness(1.3);
    }
}

/* ========================================
   RESPONSIVE OPTIMIZADO
   ======================================== */

@media (max-width: 768px) {
    /* Reducir efectos en móvil para mejor performance */
    :root {
        --glow-soft: 0 0 5px currentColor;
        --glow-intense: 0 0 10px currentColor;
        --blur-light: blur(3px);
        --blur-heavy: blur(8px);
    }
    
    header, section {
        padding: 1.5rem;
        backdrop-filter: var(--blur-light);
    }
    
    .neural-network-animation {
        gap: 20px;
        padding: 1rem;
        min-height: 150px;
    }
    
    .nn-layer {
        gap: 15px;
    }
    
    .data-flow-animation {
        height: 200px;
        width: 95%;
    }
    
    /* Desactivar transformaciones 3D en móvil */
    .hero-orb,
    .nn-node {
        transform-style: flat;
    }
}

@media (max-width: 480px) {
    header, section {
        padding: 1rem;
    }
    
    h1 {
        font-size: clamp(1.5rem, 6vw, 2.5rem);
        letter-spacing: 0.05em;
        word-break: break-word;
        hyphens: auto;
    }
    
    #hero h1 {
        width: 100%;
        margin-left: auto;
        margin-right: auto;
        text-align: center;
    }
    
    .neural-network-animation {
        flex-direction: column;
        gap: 15px;
        padding: 0.8rem;
    }
    
    .nn-layer {
        flex-direction: row;
        gap: 10px;
    }
    
    .data-flow-animation {
        height: 150px;
    }
    
    p {
        font-size: 0.9rem;
        padding: 1rem;
    }
}

/* ========================================
   UTILIDADES DE PERFORMANCE
   ======================================== */

/* Contenido que aparece en scroll */
.fade-in-scroll {
    opacity: 0;
    transform: translateY(30px);
    transition: var(--transition-slow);
    will-change: transform, opacity;
}

.fade-in-scroll.visible {
    opacity: 1;
    transform: translateY(0);
}

/* Forzar aceleración por GPU */
.gpu-accelerated {
    will-change: transform;
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
}

/* Contenido crítico para First Paint */
.critical-content {
    contain: layout style paint;
}

/* Lazy loading para contenido no crítico */
.lazy-content {
    content-visibility: auto;
    contain-intrinsic-size: 300px;
}

/* Prefiere animaciones reducidas */
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
    
    .hero-orb::before,
    .hero-orb::after {
        animation: none;
    }
}

/* Focus visible para navegación por teclado */
*:focus-visible {
    outline: 2px solid var(--color-accent1);
    outline-offset: 2px;
    border-radius: var(--border-radius-small);
}